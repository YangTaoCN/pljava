<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Sun Oct 07 17:02:28 EDT 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>PassXML (PL/Java examples 1.5.1-BETA3 API)</title>
<meta name="date" content="2018-10-07">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PassXML (PL/Java examples 1.5.1-BETA3 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PassXML.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/postgresql/pljava/example/annotation/Parameters.html" title="class in org.postgresql.pljava.example.annotation"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/postgresql/pljava/example/annotation/PGF1010962.html" title="class in org.postgresql.pljava.example.annotation"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/postgresql/pljava/example/annotation/PassXML.html" target="_top">Frames</a></li>
<li><a href="PassXML.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.postgresql.pljava.example.annotation</div>
<h2 title="Class PassXML" class="title">Class PassXML</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.postgresql.pljava.example.annotation.PassXML</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLData.html?is-external=true" title="class or interface in java.sql">SQLData</a></dd>
</dl>
<hr>
<br>
<pre><a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/SQLActions.html?is-external=true" title="class or interface in org.postgresql.pljava.annotation">@SQLActions</a>(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/SQLActions.html?is-external=true#value()" title="class or interface in org.postgresql.pljava.annotation">value</a>={<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/SQLAction.html?is-external=true" title="class or interface in org.postgresql.pljava.annotation">@SQLAction</a>(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/SQLAction.html?is-external=true#provides()" title="class or interface in org.postgresql.pljava.annotation">provides</a>="postgresql_xml",<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/SQLAction.html?is-external=true#install()" title="class or interface in org.postgresql.pljava.annotation">install</a>="SELECT CASE (SELECT 1 FROM pg_type WHERE typname = \'xml\') WHEN 1 THEN set_config(\'pljava.implementors\', \'postgresql_xml,\' ||  current_setting(\'pljava.implementors\'), true) END"),<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/SQLAction.html?is-external=true" title="class or interface in org.postgresql.pljava.annotation">@SQLAction</a>(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/SQLAction.html?is-external=true#implementor()" title="class or interface in org.postgresql.pljava.annotation">implementor</a>="postgresql_ge_80400",<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/SQLAction.html?is-external=true#provides()" title="class or interface in org.postgresql.pljava.annotation">provides</a>="postgresql_xml_cte",<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/SQLAction.html?is-external=true#install()" title="class or interface in org.postgresql.pljava.annotation">install</a>="SELECT CASE (SELECT 1 FROM pg_type WHERE typname = \'xml\') WHEN 1 THEN set_config(\'pljava.implementors\', \'postgresql_xml_cte,\' ||  current_setting(\'pljava.implementors\'), true) END"),<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/SQLAction.html?is-external=true" title="class or interface in org.postgresql.pljava.annotation">@SQLAction</a>(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/SQLAction.html?is-external=true#implementor()" title="class or interface in org.postgresql.pljava.annotation">implementor</a>="postgresql_xml_cte",<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/SQLAction.html?is-external=true#requires()" title="class or interface in org.postgresql.pljava.annotation">requires</a>="echoXMLParameter",<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/SQLAction.html?is-external=true#install()" title="class or interface in org.postgresql.pljava.annotation">install</a>="WITH s(how) AS (SELECT generate_series(1, 7)), t(x) AS (  SELECT table_to_xml(\'pg_catalog.pg_operator\', true, false, \'\') ), r(howin, howout, isdoc) AS (  SELECT   i.how, o.how,   javatest.echoxmlparameter(x, i.how, o.how) IS DOCUMENT  FROM   t, s AS i, s AS o  WHERE   NOT (i.how = 6 and o.how = 7) ) SELECT CASE WHEN every(isdoc)  THEN javatest.logmessage(\'INFO\', \'SQLXML echos succeeded\')  ELSE javatest.logmessage(\'WARNING\', \'SQLXML echos had problems\') END FROM r")})
public class <span class="strong">PassXML</span>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLData.html?is-external=true" title="class or interface in java.sql">SQLData</a></pre>
<div class="block">Class illustrating use of <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql"><code>SQLXML</code></a> to operate on XML data.
<p>
 This class also serves as the mapping class for a composite type
 <code>javatest.onexml</code>, the better to verify that <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLData.html?is-external=true" title="class or interface in java.sql"><code>SQLData</code></a>
 input/output works too. That's why it has to implement SQLData.
<p>
 Everything mentioning the type XML here needs a conditional implementor tag
 in case of being loaded into a PostgreSQL instance built without that type.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/postgresql/pljava/example/annotation/PassXML.html#PassXML()">PassXML</a></strong>()</code>
<div class="block">No-arg constructor required of objects that will implement
 <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLData.html?is-external=true" title="class or interface in java.sql"><code>SQLData</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/postgresql/pljava/example/annotation/PassXML.html#allowFragment(javax.xml.transform.dom.DOMResult)">allowFragment</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/javax/xml/transform/dom/DOMResult.html?is-external=true" title="class or interface in javax.xml.transform.dom">DOMResult</a>&nbsp;r)</code>
<div class="block">Configure a <code>DOMResult</code> to accept <code>CONTENT</code> (a/k/a
 document fragment), not only the more restrictive <code>DOCUMENT</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/postgresql/pljava/example/annotation/PassXML.html#bounceXMLParameter_(java.sql.SQLXML)">bounceXMLParameter_</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;sx)</code>
<div class="block">Just like <code>bounceXMLParameter</code> but with parameter and return typed
 as <code>text</code>, and so usable on a PostgreSQL instance lacking the XML
 type.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/postgresql/pljava/example/annotation/PassXML.html#bounceXMLParameter(java.sql.SQLXML)">bounceXMLParameter</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;sx)</code>
<div class="block">"Echo" an XML parameter not by creating a new writable <code>SQLXML</code>
 object at all, but simply returning the passed-in readable one untouched.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/postgresql/pljava/example/annotation/PassXML.html#castTextXML(java.sql.SQLXML)">castTextXML</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;sx)</code>
<div class="block">Just like <code>bounceXMLParameter</code> but with the parameter typed as
 <code>text</code> and the return type left as XML, so functions as a cast.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/postgresql/pljava/example/annotation/PassXML.html#echoXMLParameter_(java.sql.SQLXML,%20int,%20int)">echoXMLParameter_</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;sx,
                 int&nbsp;howin,
                 int&nbsp;howout)</code>
<div class="block">Echo an XML parameter back, but with parameter and return types of
 PostgreSQL <code>text</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/postgresql/pljava/example/annotation/PassXML.html#echoXMLParameter(java.sql.SQLXML,%20int,%20int)">echoXMLParameter</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;sx,
                int&nbsp;howin,
                int&nbsp;howout)</code>
<div class="block">Echo an XML parameter back, exercising seven different ways
 (howin =&gt; 1-7) of reading an SQLXML object, and seven
 (howout =&gt; 1-7) of returning one.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/postgresql/pljava/example/annotation/PassXML.html#ensureClosed(javax.xml.transform.Result,%20java.sql.SQLXML,%20int)">ensureClosed</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/javax/xml/transform/Result.html?is-external=true" title="class or interface in javax.xml.transform">Result</a>&nbsp;r,
            <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;sx,
            int&nbsp;how)</code>
<div class="block">Ensure the closing of whatever method was used to add content to
 an <code>SQLXML</code> object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/postgresql/pljava/example/annotation/PassXML.html#getSQLTypeName()">getSQLTypeName</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/postgresql/pljava/example/annotation/PassXML.html#lowLevelXMLEcho_(java.sql.SQLXML,%20int)">lowLevelXMLEcho_</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;sx,
                int&nbsp;how)</code>
<div class="block">Text-typed variant of lowLevelXMLEcho (does not require XML type).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/postgresql/pljava/example/annotation/PassXML.html#lowLevelXMLEcho(java.sql.SQLXML,%20int)">lowLevelXMLEcho</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;sx,
               int&nbsp;how)</code>
<div class="block">Echo the XML parameter back, using lower-level manipulations than
 <code>echoXMLParameter</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/postgresql/pljava/example/annotation/PassXML.html#lowLevelXMLEcho(java.lang.String)">lowLevelXMLEcho</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;x)</code>
<div class="block">Low-level XML echo where the Java parameter and return type are String.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/postgresql/pljava/example/annotation/PassXML.html#prepareXMLTransform(java.lang.String,%20java.sql.SQLXML,%20int)">prepareXMLTransform</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                   <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;source,
                   int&nbsp;how)</code>
<div class="block">Precompile an XSL transform <code>source</code> and save it (for the
 current session) as <code>name</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/postgresql/pljava/example/annotation/PassXML.html#readSQL(java.sql.SQLInput,%20java.lang.String)">readSQL</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLInput.html?is-external=true" title="class or interface in java.sql">SQLInput</a>&nbsp;stream,
       <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;typeName)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/postgresql/pljava/example/annotation/PassXML.html#transformXML(java.lang.String,%20java.sql.SQLXML,%20int,%20int)">transformXML</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;transformName,
            <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;source,
            int&nbsp;howin,
            int&nbsp;howout)</code>
<div class="block">Transform some XML according to a named transform prepared with
 <code>prepareXMLTransform</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/postgresql/pljava/example/annotation/PassXML.html#unclosedSQLXML(int,%20int)">unclosedSQLXML</a></strong>(int&nbsp;howmany,
              int&nbsp;how)</code>
<div class="block">Create and leave some number of SQLXML objects unclosed, unused, and
 unreferenced, as a test of reclamation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/postgresql/pljava/example/annotation/PassXML.html#writeSQL(java.sql.SQLOutput)">writeSQL</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLOutput.html?is-external=true" title="class or interface in java.sql">SQLOutput</a>&nbsp;stream)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/postgresql/pljava/example/annotation/PassXML.html#xmlFromComposite()">xmlFromComposite</a></strong>()</code>
<div class="block">Test the MappedUDT (in one direction anyway).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/postgresql/pljava/example/annotation/PassXML.html#xmlInStmtAndRS(java.sql.ResultSet)">xmlInStmtAndRS</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/ResultSet.html?is-external=true" title="class or interface in java.sql">ResultSet</a>&nbsp;out)</code>
<div class="block">Create some XML, pass it to a <code>SELECT ?</code> prepared statement,
 retrieve it from the result set, and return it via the out-parameter
 result set of this <code>RECORD</code>-returning function.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PassXML()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PassXML</h4>
<pre>public&nbsp;PassXML()</pre>
<div class="block">No-arg constructor required of objects that will implement
 <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLData.html?is-external=true" title="class or interface in java.sql"><code>SQLData</code></a>.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="echoXMLParameter(java.sql.SQLXML, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>echoXMLParameter</h4>
<pre><a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true" title="class or interface in org.postgresql.pljava.annotation">@Function</a>(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#schema()" title="class or interface in org.postgresql.pljava.annotation">schema</a>="javatest",
          <a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#implementor()" title="class or interface in org.postgresql.pljava.annotation">implementor</a>="postgresql_xml",
          <a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#provides()" title="class or interface in org.postgresql.pljava.annotation">provides</a>="echoXMLParameter")
public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;echoXMLParameter(<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;sx,
                                                        int&nbsp;howin,
                                                        int&nbsp;howout)
                               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Echo an XML parameter back, exercising seven different ways
 (howin =&gt; 1-7) of reading an SQLXML object, and seven
 (howout =&gt; 1-7) of returning one.
<p>
 If howin =&gt; 0, the XML parameter is simply saved in a static. It can
 be read in a subsequent call with sx =&gt; null, but only in the same
 transaction.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="echoXMLParameter_(java.sql.SQLXML, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>echoXMLParameter_</h4>
<pre><a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true" title="class or interface in org.postgresql.pljava.annotation">@Function</a>(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#schema()" title="class or interface in org.postgresql.pljava.annotation">schema</a>="javatest",
          <a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#name()" title="class or interface in org.postgresql.pljava.annotation">name</a>="echoXMLParameter",
          <a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#type()" title="class or interface in org.postgresql.pljava.annotation">type</a>="text")
public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;echoXMLParameter_(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/SQLType.html?is-external=true" title="class or interface in org.postgresql.pljava.annotation">@SQLType</a>(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/SQLType.html?is-external=true#value()" title="class or interface in org.postgresql.pljava.annotation">value</a>="text")
                                              <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;sx,
                                              int&nbsp;howin,
                                              int&nbsp;howout)
                                throws <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Echo an XML parameter back, but with parameter and return types of
 PostgreSQL <code>text</code>.
<p>
 The other version of this method needs a conditional implementor tag
 because it cannot be declared in a PostgreSQL instance that was built
 without <code>libxml</code> support and the PostgreSQL <code>XML</code> type.
 But this version can, simply by mapping the <code>SQLXML</code> parameter
 and return types to the SQL <code>text</code> type. The Java code is no
 different.
<p>
 Note that it's possible for both declarations to coexist in PostgreSQL
 (because as far as it is concerned, their signatures are different), but
 these two Java methods cannot have the same name (because they differ
 only in annotations, not in the declared Java types). So, this one needs
 a slightly tweaked name, and a <code>name</code> attribute in the annotation
 so PostgreSQL sees the right name.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="bounceXMLParameter(java.sql.SQLXML)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bounceXMLParameter</h4>
<pre><a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true" title="class or interface in org.postgresql.pljava.annotation">@Function</a>(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#schema()" title="class or interface in org.postgresql.pljava.annotation">schema</a>="javatest",
          <a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#implementor()" title="class or interface in org.postgresql.pljava.annotation">implementor</a>="postgresql_xml")
public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;bounceXMLParameter(<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;sx)
                                 throws <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">"Echo" an XML parameter not by creating a new writable <code>SQLXML</code>
 object at all, but simply returning the passed-in readable one untouched.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="bounceXMLParameter_(java.sql.SQLXML)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bounceXMLParameter_</h4>
<pre><a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true" title="class or interface in org.postgresql.pljava.annotation">@Function</a>(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#schema()" title="class or interface in org.postgresql.pljava.annotation">schema</a>="javatest",
          <a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#type()" title="class or interface in org.postgresql.pljava.annotation">type</a>="text",
          <a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#name()" title="class or interface in org.postgresql.pljava.annotation">name</a>="bounceXMLParameter")
public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;bounceXMLParameter_(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/SQLType.html?is-external=true" title="class or interface in org.postgresql.pljava.annotation">@SQLType</a>(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/SQLType.html?is-external=true#value()" title="class or interface in org.postgresql.pljava.annotation">value</a>="text")
                                                <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;sx)
                                  throws <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Just like <code>bounceXMLParameter</code> but with parameter and return typed
 as <code>text</code>, and so usable on a PostgreSQL instance lacking the XML
 type.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="castTextXML(java.sql.SQLXML)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>castTextXML</h4>
<pre><a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true" title="class or interface in org.postgresql.pljava.annotation">@Function</a>(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#schema()" title="class or interface in org.postgresql.pljava.annotation">schema</a>="javatest",
          <a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#implementor()" title="class or interface in org.postgresql.pljava.annotation">implementor</a>="postgresql_xml")
public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;castTextXML(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/SQLType.html?is-external=true" title="class or interface in org.postgresql.pljava.annotation">@SQLType</a>(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/SQLType.html?is-external=true#value()" title="class or interface in org.postgresql.pljava.annotation">value</a>="text")
                                           <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;sx)
                          throws <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Just like <code>bounceXMLParameter</code> but with the parameter typed as
 <code>text</code> and the return type left as XML, so functions as a cast.
<p>
 Slower than the other cases, because it must verify that the input really
 is XML before blindly calling it a PostgreSQL XML type. But the speed
 compares respectably to PostgreSQL's own CAST(text AS xml), at least for
 larger values; I am seeing Java pull ahead right around 32kB of XML data
 and beat PG by a factor of 2 or better at sizes of 1 or 2 MB.
 Unsurprisingly, PG has the clear advantage when values are very short.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="prepareXMLTransform(java.lang.String, java.sql.SQLXML, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareXMLTransform</h4>
<pre><a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true" title="class or interface in org.postgresql.pljava.annotation">@Function</a>(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#schema()" title="class or interface in org.postgresql.pljava.annotation">schema</a>="javatest",
          <a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#trust()" title="class or interface in org.postgresql.pljava.annotation">trust</a>=<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.Trust.html?is-external=true#UNSANDBOXED" title="class or interface in org.postgresql.pljava.annotation">UNSANDBOXED</a>,
          <a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#implementor()" title="class or interface in org.postgresql.pljava.annotation">implementor</a>="pg_xml_unsandboxed")
public static&nbsp;void&nbsp;prepareXMLTransform(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                                                                 <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;source,
                                                                 int&nbsp;how)
                                throws <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Precompile an XSL transform <code>source</code> and save it (for the
 current session) as <code>name</code>.
<p>
 Each value of <code>how</code>, 1-7, selects a different way of presenting
 the <code>SQLXML</code> object to the XSL processor.
<p>
 Preparing a transform with
 <a href="http://docs.oracle.com/javase/6/docs/api/javax/xml/transform/TransformerFactory.html?is-external=true#newTemplates(javax.xml.transform.Source)" title="class or interface in javax.xml.transform"><code>newTemplates()</code></a> seems to require
 <code>Trust.UNSANDBOXED</code>, at least for the
 XSLTC transform compiler in newer JREs.
<p>
 If you wish this <strong>unsandboxed</strong> function to be installed,
 set the PostgreSQL variable <code>pljava.implementors</code> to a list with
 <code>pg_xml_unsandboxed</code> as an added entry, before installing the
 examples jar.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="transformXML(java.lang.String, java.sql.SQLXML, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transformXML</h4>
<pre><a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true" title="class or interface in org.postgresql.pljava.annotation">@Function</a>(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#schema()" title="class or interface in org.postgresql.pljava.annotation">schema</a>="javatest",
          <a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#implementor()" title="class or interface in org.postgresql.pljava.annotation">implementor</a>="postgresql_xml")
public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;transformXML(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;transformName,
                                            <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;source,
                                            int&nbsp;howin,
                                            int&nbsp;howout)
                           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Transform some XML according to a named transform prepared with
 <code>prepareXMLTransform</code>.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="lowLevelXMLEcho(java.sql.SQLXML, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lowLevelXMLEcho</h4>
<pre><a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true" title="class or interface in org.postgresql.pljava.annotation">@Function</a>(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#schema()" title="class or interface in org.postgresql.pljava.annotation">schema</a>="javatest",
          <a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#implementor()" title="class or interface in org.postgresql.pljava.annotation">implementor</a>="postgresql_xml")
public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;lowLevelXMLEcho(<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;sx,
                                               int&nbsp;how)
                              throws <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Echo the XML parameter back, using lower-level manipulations than
 <code>echoXMLParameter</code>.
<p>
 This illustrates how the simple use of <code>t.transform(src,rlt)</code>
 in <code>echoSQLXML</code> substitutes for a lot of fiddly case-by-case code
 (and not all the cases are even covered here!), but when coding for a
 specific case, all the generality of <code>transform</code> may not be needed.
 It can be interesting to compare memory use when XML values are large.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="lowLevelXMLEcho_(java.sql.SQLXML, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lowLevelXMLEcho_</h4>
<pre><a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true" title="class or interface in org.postgresql.pljava.annotation">@Function</a>(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#schema()" title="class or interface in org.postgresql.pljava.annotation">schema</a>="javatest",
          <a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#name()" title="class or interface in org.postgresql.pljava.annotation">name</a>="lowLevelXMLEcho",
          <a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#type()" title="class or interface in org.postgresql.pljava.annotation">type</a>="text")
public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;lowLevelXMLEcho_(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/SQLType.html?is-external=true" title="class or interface in org.postgresql.pljava.annotation">@SQLType</a>(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/SQLType.html?is-external=true#value()" title="class or interface in org.postgresql.pljava.annotation">value</a>="text")
                                             <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;sx,
                                             int&nbsp;how)
                               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Text-typed variant of lowLevelXMLEcho (does not require XML type).</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="lowLevelXMLEcho(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lowLevelXMLEcho</h4>
<pre><a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true" title="class or interface in org.postgresql.pljava.annotation">@Function</a>(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#schema()" title="class or interface in org.postgresql.pljava.annotation">schema</a>="javatest",
          <a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#implementor()" title="class or interface in org.postgresql.pljava.annotation">implementor</a>="postgresql_xml",
          <a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#type()" title="class or interface in org.postgresql.pljava.annotation">type</a>="xml")
public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;lowLevelXMLEcho(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/SQLType.html?is-external=true" title="class or interface in org.postgresql.pljava.annotation">@SQLType</a>(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/SQLType.html?is-external=true#value()" title="class or interface in org.postgresql.pljava.annotation">value</a>="xml")
                                                   <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;x)
                              throws <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Low-level XML echo where the Java parameter and return type are String.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="xmlInStmtAndRS(java.sql.ResultSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>xmlInStmtAndRS</h4>
<pre><a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true" title="class or interface in org.postgresql.pljava.annotation">@Function</a>(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#schema()" title="class or interface in org.postgresql.pljava.annotation">schema</a>="javatest",
          <a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#type()" title="class or interface in org.postgresql.pljava.annotation">type</a>="RECORD")
public static&nbsp;boolean&nbsp;xmlInStmtAndRS(<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/ResultSet.html?is-external=true" title="class or interface in java.sql">ResultSet</a>&nbsp;out)
                              throws <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Create some XML, pass it to a <code>SELECT ?</code> prepared statement,
 retrieve it from the result set, and return it via the out-parameter
 result set of this <code>RECORD</code>-returning function.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="unclosedSQLXML(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unclosedSQLXML</h4>
<pre><a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true" title="class or interface in org.postgresql.pljava.annotation">@Function</a>(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#schema()" title="class or interface in org.postgresql.pljava.annotation">schema</a>="javatest")
public static&nbsp;void&nbsp;unclosedSQLXML(int&nbsp;howmany,
                                 int&nbsp;how)
                           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Create and leave some number of SQLXML objects unclosed, unused, and
 unreferenced, as a test of reclamation.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>howmany</code> - Number of SQLXML instances to create.</dd><dd><code>how</code> - If nonzero, the flavor of writing to request on the object
 before abandoning it; if zero, it is left in its initial, writable state.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="ensureClosed(javax.xml.transform.Result, java.sql.SQLXML, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ensureClosed</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;ensureClosed(<a href="http://docs.oracle.com/javase/6/docs/api/javax/xml/transform/Result.html?is-external=true" title="class or interface in javax.xml.transform">Result</a>&nbsp;r,
                  <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;sx,
                  int&nbsp;how)
                           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Ensure the closing of whatever method was used to add content to
 an <code>SQLXML</code> object.
<p>
 Before a <code>SQLXML</code> object that has been written to can be used by
 PostgreSQL (returned as a function result, plugged in as a prepared
 statement parameter or into a <code>ResultSet</code>, etc.), the method used
 for writing it must be "closed" to ensure the writing is complete.
<p>
 If it is set with <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true#setString(java.lang.String)" title="class or interface in java.sql"><code>setString</code></a>, nothing more is
 needed; <code>setString</code> obviously sets the whole value at once. Any
 <code>OutputStream</code> or <code>Writer</code> obtained from
 <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true#setBinaryStream()" title="class or interface in java.sql"><code>setBinaryStream</code></a> or
 <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true#setCharacterStream()" title="class or interface in java.sql"><code>setCharacterStream</code></a>, or from
 <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true#setResult(java.lang.Class)" title="class or interface in java.sql"><code>setResult</code></a><code>(StreamResult.class)</code>, has to be
 explicitly closed (a <a href="http://docs.oracle.com/javase/6/docs/api/javax/xml/transform/Transformer.html?is-external=true" title="class or interface in javax.xml.transform"><code>Transformer</code></a> does not close its
 <a href="http://docs.oracle.com/javase/6/docs/api/javax/xml/transform/Result.html?is-external=true" title="class or interface in javax.xml.transform"><code>Result</code></a> when the transformation is complete!).
 Those are cases 1, 2, and 4 here.
<p>
 Cases 5 (<code>SAXResult</code>) and 6 (<code>StAXResult</code>) need no special
 attention; though the <code>Transformer</code> does not close them, the ones
 returned by this <code>SQLXML</code> implementation are set up to close
 themselves when the <code>endDocument</code> event is written.
<p>
 Case 3 (test of <code>setString</code> is handled specially here. As this
 class allows testing of all techniques for writing the <code>SQLXML</code>
 object, and most of those involve a <code>Result</code>, case 3 is handled
 by also constructing a <code>Result</code> over a <a href="http://docs.oracle.com/javase/6/docs/api/java/io/StringWriter.html?is-external=true" title="class or interface in java.io"><code>StringWriter</code></a> and
 having the content written into that; this method then extracts the
 content from the <code>StringWriter</code> and passes it to <code>setString</code>.
 For cases 1 and 2, likewise, the stream obtained with
 <code>getBinaryStream</code> or <code>getCharacterStream</code> has been wrapped in
 a <code>Result</code> for generality in this example.
<p>
 A typical application will not need the generality seen here; it
 will usually know which technique it is using to write the <code>SQLXML</code>
 object, and only needs to know how to close that if it needs closing.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>r</code> - The <code>Result</code> onto which writing was done.</dd><dd><code>sx</code> - The <code>SQLXML</code> object being written.</dd><dd><code>how</code> - The integer used in this example class to select which method
 of writing the <code>SQLXML</code> object was to be tested.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The <code>SQLXML</code> object <code>sx</code>, because why not?</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="allowFragment(javax.xml.transform.dom.DOMResult)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allowFragment</h4>
<pre>public static&nbsp;void&nbsp;allowFragment(<a href="http://docs.oracle.com/javase/6/docs/api/javax/xml/transform/dom/DOMResult.html?is-external=true" title="class or interface in javax.xml.transform.dom">DOMResult</a>&nbsp;r)
                          throws <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Configure a <code>DOMResult</code> to accept <code>CONTENT</code> (a/k/a
 document fragment), not only the more restrictive <code>DOCUMENT</code>.
<p>
 The other forms of <code>Result</code> that can be requested will happily
 accept <code>XML(CONTENT)</code> and not just <code>XML(DOCUMENT)</code>.
 The <code>DOMResult</code> is pickier, however: if you first call
 <a href="http://docs.oracle.com/javase/6/docs/api/javax/xml/transform/dom/DOMResult.html?is-external=true#setNode(org.w3c.dom.Node)" title="class or interface in javax.xml.transform.dom"><code>setNode</code></a> with a <code>DocumentFragment</code>, it
 will accept either form, but if you leave the node unset when passing the
 <code>DOMResult</code> to a transformer, the transformer will default to
 putting a <code>Document</code> node there, and then it will not accept a
 fragment.
<p>
 If you need to handle fragments, this method illustrates how to pre-load
 the <code>DOMResult</code> with an empty <code>DocumentFragment</code>. Note that
 if you use some XML processing package that supplies its own classes
 implementing DOM nodes, you may need to use a <code>DocumentFragment</code>
 instance obtained from that package.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="xmlFromComposite()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>xmlFromComposite</h4>
<pre><a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true" title="class or interface in org.postgresql.pljava.annotation">@Function</a>(<a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#schema()" title="class or interface in org.postgresql.pljava.annotation">schema</a>="javatest",
          <a href="https://tada.github.io/pljava/pljava-api/apidocs/org/postgresql/pljava/annotation/Function.html?is-external=true#implementor()" title="class or interface in org.postgresql.pljava.annotation">implementor</a>="postgresql_xml")
public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLXML.html?is-external=true" title="class or interface in java.sql">SQLXML</a>&nbsp;xmlFromComposite()
                               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Test the MappedUDT (in one direction anyway).
<p>
 Creates a <code>PassXML</code> object, the Java class that maps the
 <code>javatest.onexml</code> composite type, which has one member, of XML
 type. Stores a <code>SQLXML</code> value in that field of the <code>PassXML</code>
 object, and passes that to an SQL query that expects and returns
 <code>javatest.onexml</code>. Retrieves the XML from the value field of the
 <code>PassXML</code> object created to map the result of the query.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The original XML value, if all goes well.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="getSQLTypeName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSQLTypeName</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getSQLTypeName()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLData.html?is-external=true#getSQLTypeName()" title="class or interface in java.sql">getSQLTypeName</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLData.html?is-external=true" title="class or interface in java.sql">SQLData</a></code></dd>
</dl>
</li>
</ul>
<a name="readSQL(java.sql.SQLInput, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readSQL</h4>
<pre>public&nbsp;void&nbsp;readSQL(<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLInput.html?is-external=true" title="class or interface in java.sql">SQLInput</a>&nbsp;stream,
           <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;typeName)
             throws <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLData.html?is-external=true#readSQL(java.sql.SQLInput,%20java.lang.String)" title="class or interface in java.sql">readSQL</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLData.html?is-external=true" title="class or interface in java.sql">SQLData</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
<a name="writeSQL(java.sql.SQLOutput)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>writeSQL</h4>
<pre>public&nbsp;void&nbsp;writeSQL(<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLOutput.html?is-external=true" title="class or interface in java.sql">SQLOutput</a>&nbsp;stream)
              throws <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLData.html?is-external=true#writeSQL(java.sql.SQLOutput)" title="class or interface in java.sql">writeSQL</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLData.html?is-external=true" title="class or interface in java.sql">SQLData</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PassXML.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/postgresql/pljava/example/annotation/Parameters.html" title="class in org.postgresql.pljava.example.annotation"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/postgresql/pljava/example/annotation/PGF1010962.html" title="class in org.postgresql.pljava.example.annotation"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/postgresql/pljava/example/annotation/PassXML.html" target="_top">Frames</a></li>
<li><a href="PassXML.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2003&#x2013;2018 <a href="http://tada.se/eng/">Tada AB</a>. All rights reserved.</small></p>
</body>
</html>
